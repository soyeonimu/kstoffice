<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ page.title }} | 리더스 합동 법무사 사무소</title>
  <meta name="description" content="{{ page.description | default: '리더스 합동 법무사 사무소 - 부동산 등기, 법인 등기, 민사법률 전문' }}">
  
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  
  <style>
    /* 하얀 화면 방지 및 기본 레이아웃 */
    body { margin: 0; padding: 0; font-family: 'Pretendard', -apple-system, sans-serif; background-color: #fff; color: #333; }
    main { min-height: 80vh; display: block; }
    
    /* 헤더 숨김 방지 기본 스타일 */
    .header--hidden { transform: translateY(-100%); transition: transform 0.3s ease; }
    
    /* 애니메이션 기본값 */
    .js-reveal { opacity: 0; transform: translateY(20px); transition: all 0.8s ease; }
    .js-reveal.is-visible { opacity: 1; transform: translateY(0); }
  </style>
</head>

<body>

  {% include header.html %}

  <main>
    {{ content }}
  </main>

  {% include side-links.html %}
  {% include footer.html %}

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 1. Reveal 효과
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
          }
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.js-reveal').forEach(el => observer.observe(el));

      // 2. 헤더 스크롤 로직 (전달해주신 코드 통합)
      const header = document.getElementById('siteHeader');
      let lastY = window.scrollY;
      window.addEventListener('scroll', () => {
        let currY = window.scrollY;
        if (!header) return;
        if (currY > lastY + 10 && currY > 100) header.classList.add('header--hidden');
        else if (currY < lastY - 10) header.classList.remove('header--hidden');
        lastY = currY;
      }, { passive: true });
    });
  </script>
</body>
</html>